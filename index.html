<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My 3D Print Shop</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="brandLogo">â–²</div>
        <div>
          <div class="brandName">My 3D Shop</div>
          <div class="brandSub">Custom printed items</div>
        </div>
      </div>

      <nav class="nav">
        <button class="navItem active" data-page="home">Home</button>
        <button class="navItem" data-page="shop">Shop</button>
        <button id="navAdmin" class="navItem hidden" data-page="admin">Admin</button>
      </nav>

      <div class="sidebarBottom">
        <button id="loginBtn" class="loginBtn">Log in</button>
        <button id="logoutBtn" class="ghostBtn hidden">Log out</button>
        <div class="tiny">
          <span class="muted">Signed in as: </span><span id="userEmail">Guest</span>
        </div>
        <div class="tiny muted">Green/Blue theme â€¢ â‚ª ILS</div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="leftTop">
          <button id="accountBtn" class="iconBtn" title="Account">
            <span class="iconCircle">ðŸ‘¤</span>
            <span id="accountLabel" class="accountLabel">Guest</span>
          </button>
        </div>

        <div class="searchWrap">
          <input id="searchInput" placeholder="Search products..." />
          <button id="searchClear" class="ghostBtn" title="Clear">âœ•</button>
        </div>

        <button id="cartBtn" class="iconBtn" title="Cart">
          ðŸ›’ <span id="cartCount" class="pill">0</span>
        </button>
      </header>

      <!-- HOME -->
      <section id="page-home" class="page">
        <div class="hero">
          <div class="heroText">
            <div class="heroKicker">3D Printed â€¢ Made for you</div>
            <h1 class="heroTitle">Fresh prints, clean quality.</h1>
            <p class="heroSub">Browse items, choose options, and order fast.</p>
            <div class="heroActions">
              <button class="primaryBtn" id="ctaShop">Shop now</button>
              <button class="ghostBtn" id="ctaFeatured">View featured</button>
            </div>
          </div>
          <div class="heroArt">
            <div class="glowCard">
              <div class="glowTitle">Featured drops</div>
              <div class="glowSub">New items whenever you add them</div>
            </div>
          </div>
        </div>

        <div class="sectionHeader">
          <h2>Featured</h2>
          <p class="muted">Hand-picked items</p>
        </div>
        <div id="featuredGrid" class="grid"></div>
      </section>

      <!-- SHOP -->
      <section id="page-shop" class="page hidden">
        <div class="sectionHeader">
          <h2>Shop</h2>
          <p class="muted">Click an item for details â€¢ Buy now or add to cart</p>
        </div>
        <div id="shopGrid" class="grid amazon"></div>
      </section>

      <!-- ADMIN -->
      <section id="page-admin" class="page hidden">
        <div class="sectionHeader">
          <h2>Admin</h2>
          <p class="muted">Only visible when you log in with your admin email</p>
        </div>

        <div class="adminWrap">
          <div class="card">
            <h3>Add item</h3>

            <label class="field">
              <span>Name</span>
              <input id="aName" placeholder="e.g., Flexi Dragon" />
            </label>

            <label class="field">
              <span>Description</span>
              <input id="aDesc" placeholder="Short description..." />
            </label>

            <label class="field">
              <span>Price (â‚ª)</span>
              <input id="aPrice" type="number" min="0" step="0.5" placeholder="e.g., 35" />
            </label>

            <label class="field">
              <span>Image</span>
              <input id="aImg" type="file" accept="image/*" />
              <div class="tiny muted">Tip: square-ish photo looks best.</div>
            </label>

            <button id="addItemBtn" class="primaryBtn">Add item</button>
          </div>

          <div class="card">
            <h3>Current items</h3>
            <div id="adminList" class="adminList"></div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- PRODUCT MODAL -->
  <div id="modalBackdrop" class="backdrop hidden"></div>
  <div id="productModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalTop">
      <h2 id="pTitle">Item</h2>
      <button id="pClose" class="ghostBtn">Close</button>
    </div>
    <div class="productModalBody">
      <div id="pImage" class="pImage"></div>
      <div class="pInfo">
        <div id="pPrice" class="pPrice">â‚ª0</div>
        <p id="pDesc" class="muted"></p>
        <div class="row gap">
          <button id="pBuyNow" class="primaryBtn">Buy now</button>
          <button id="pAddCart" class="ghostBtn">Add to cart</button>
        </div>
        <div class="tiny muted" style="margin-top:10px;">You must be logged in to buy.</div>
      </div>
    </div>
  </div>

  <!-- CART DRAWER -->
  <div id="cartBackdrop" class="backdrop hidden"></div>
  <aside id="cartDrawer" class="drawer hidden">
    <div class="drawerHeader">
      <h2>Your Cart</h2>
      <button id="closeCart" class="ghostBtn">Close</button>
    </div>
    <div id="cartItems" class="cartItems"></div>
    <div class="cartFooter">
      <div class="totals">
        <div>Total</div>
        <div id="cartTotal" class="total">â‚ª0.00</div>
      </div>
      <button id="checkoutBtn" class="primaryBtn">Checkout</button>
      <div class="tiny muted">Payments: next step (Stripe) when you add a backend.</div>
    </div>
  </aside>

  <!-- CHECKOUT MODAL -->
  <div id="checkoutBackdrop" class="backdrop hidden"></div>
  <div id="checkoutModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalTop">
      <h2>Checkout</h2>
      <button id="checkoutCancel" class="ghostBtn">Close</button>
    </div>

    <div class="modalBody">
      <p class="muted">Enter delivery details (payments later).</p>

      <label class="field">
        <span>Phone number</span>
        <input id="cPhone" placeholder="e.g., 05X-XXXXXXX" />
      </label>

      <label class="field">
        <span>Address</span>
        <input id="cAddress" placeholder="City, street, building, apartment..." />
      </label>

      <div class="row gap">
        <button id="placeOrderBtn" class="primaryBtn">Place order</button>
        <button id="checkoutCancel2" class="ghostBtn">Cancel</button>
      </div>

      <div class="tiny muted">Later we will connect Stripe and store orders in a database.</div>
    </div>
  </div>

  <!-- LOGIN / SIGNUP MODAL -->
  <div id="loginBackdrop" class="backdrop hidden"></div>
  <div id="loginModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalTop">
      <h2 id="authTitle">Log in</h2>
      <button id="authCloseBtn" class="ghostBtn">Close</button>
    </div>

    <div class="modalBody">
      <label class="field">
        <span>Email</span>
        <input id="authEmail" type="email" placeholder="you@example.com" />
      </label>

      <label class="field">
        <span>Password</span>
        <input id="authPass" type="password" placeholder="Password" />
      </label>

      <div class="row gap">
        <button id="authPrimaryBtn" class="primaryBtn">Log in</button>
        <button id="authSwitchBtn" class="ghostBtn" type="button">Sign up</button>
      </div>

      <p id="authError" class="tiny muted" style="margin-top:10px;"></p>
      <p class="tiny muted" style="margin-top:10px;">
        Tip: After you sign up once, you can log in from any device.
      </p>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
